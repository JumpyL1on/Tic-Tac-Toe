# Описание web api для игры в крестики нолики 3x3 для двух игроков
## Game
### POST https://domain.com/api/games
Создание новой игры
#### Параметры
Нет параметров
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Новая игра была успешно создана игроком | |
| 401 | Игрок не авторизован в системе | |
| 403 | Игрок не может создать игру, если он уже находится в игре | ProblemDetails |
### DELETE https://domain.com/api/games/:id
Удаление игры, если игрок передумал играть
#### Параметры
##### Путь
| Имя | Тип | Описание |
|--|--|--|
| id | integer | Идентификатор игры |
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Игра была успешно удалена игроком, передумавшим играть | |
| 400 | Игры с таким идентификатором не существует или она уже завершена | ProblemDetails |
| 401 | Игрок не авторизован в системе | |
| 403 | Игра не была создана этим игроком или уже началась | ProblemDetails |
### PATCH https://domain.com/api/games/:id/playerBId
Добавление другого игрока в игру
#### Параметры
##### Путь
| Имя | Тип | Описание |
|--|--|--|
| id | integer | Идентификатор игры |
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Другой игрок успешно присоединился к этой игре | |
| 400 | Игры с таким идентификатором не существует или она уже завершена | ProblemDetails |
| 401 | Игрок не авторизован в системе | |
| 403 | Игрок не может присоединиться к игре, которую он создал или в которой уже есть два игрока | ProblemDetails |
### PATCH https://domain.com/api/games/:id/field
Осуществление хода каким-либо игроком
#### Параметры
##### Путь
| Имя | Тип | Описание |
|--|--|--|
| id | integer | Идентификатор игры |
##### Тело
| Имя | Тип | Описание |
|--|--|--|
| i | integer | Номер строки поля |
| j | integer | Номер колонки поля |
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Какой-либо игрок успешно сделал ход, в ходе которого игра, возможно, завершилась | |
| 400 | Игры с таким идентификатором не существует, она уже завершена или эта клетка уже помечена | ProblemDetails |
| 401 | Игрок не авторизован в системе | |
| 403 | Игрок не может сделать ход, потому что не имеет доступа к этой игре или сейчас не его очередь | ProblemDetails |
| 422 | Индексы i или j вне допустимого диапазона | ValidationProblemDetails |
## Player
### GET https://domain.com/api/players/current/email
Получение электронной почты текущего игрока
#### Параметры
Нет параметров
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Успех | string |
| 401 | Игрок не авторизован в системе | |
### POST https://domain.com/api/players/sign-up
Регистрация игрока в системе
#### Параметры
##### Тело
| Имя | Тип | Описание |
|--|--|--|
| email | string | Электронная почта |
| password | string | Пароль |
| repeatedPassword | string | Повторно введенный пароль |
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Игрок успешно зарегистрировался | |
| 400 | Электронная почта уже занята другим игроком | ProblemDetails |
| 422 | Электронная почта, пароль или повторно введенный пароль имеют неправильный формат | ValidationProblemDetails |
### POST https://domain.com/api/players/sign-in
Аутентификация игрока в системе
#### Параметры
##### Тело
| Имя | Тип | Описание |
|--|--|--|
| email | string | Электронная почта |
| password | string | Пароль |
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Игрок успешно вошел в систему | TokensDTO |
| 400 | Неправильная электронная почта или пароль | ProblemDetails |
### POST https://domain.com/api/players/refresh-access-token
Обновление токена доступа
#### Параметры
##### Тело
| Имя | Тип | Описание |
|--|--|--|
| refreshToken | string | Токен для обновления токена доступа |
#### Ответы
| Код | Описание | Возвращаемый тип |
|--|--|--|
| 200 | Токен доступа успешно обновлен | TokensDTO |
| 400 | Неправильный токен доступа или истек срок действия | ProblemDetails |
## Схемы
### TokensDTO
| Имя | Тип | Описание |
|--|--|--|
| accessToken | string | Токен доступа |
| refreshToken | string | Токен для обновления токена доступа |
### ProblemDetails
| Имя | Тип | Описание |
|--|--|--|
| type | string | Ссылка на URI [RFC3986], идентифицирующая тип проблемы |
| title | string | Краткая удобочитаемая сводка по типу проблемы |
| status | string | Код состояния HTTP([RFC7231], раздел 6), созданный сервером-источником для этой проблемы |
| detail | string | Понятное для человека объяснение этой проблемы |
| instance | string | Ссылка на URI, идентифицирующая конкретное вхождение проблемы |
### ValidationProblemDetails
| Имя | Тип | Описание |
|--|--|--|
| type | string | Ссылка на URI [RFC3986], идентифицирующая тип проблемы |
| title | string | Краткая удобочитаемая сводка по типу проблемы |
| status | string | Код состояния HTTP([RFC7231], раздел 6), созданный сервером-источником для этой проблемы |
| detail | string | Понятное для человека объяснение этой проблемы |
| errors | dictionary<string, string[] | Возвращает ошибки проверки, связанные с этим экземпляром |
| instance | string | Ссылка на URI, идентифицирующая конкретное вхождение проблемы |
